(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-74cac8f9"],{"2c3e":function(e,t,i){var r=i("83ab"),a=i("9f7f").MISSED_STICKY,s=i("c6b6"),n=i("edd0"),o=i("69f3").get,c=RegExp.prototype,p=TypeError;r&&a&&n(c,"sticky",{configurable:!0,get:function(){if(this!==c){if("RegExp"===s(this))return!!o(this).sticky;throw new p("Incompatible receiver, RegExp required")}}})},"4d63":function(e,t,i){var r=i("83ab"),a=i("cfe9"),s=i("e330"),n=i("94ca"),o=i("7156"),c=i("9112"),p=i("7c73"),d=i("241c").f,l=i("3a9b"),m=i("44e7"),v=i("577e"),u=i("90d8"),f=i("9f7f"),x=i("aeb0"),_=i("cb2d"),h=i("d039"),g=i("1a2d"),b=i("69f3").enforce,y=i("2626"),w=i("b622"),k=i("fce3"),F=i("107c"),C=w("match"),I=a.RegExp,T=I.prototype,E=a.SyntaxError,N=s(T.exec),$=s("".charAt),O=s("".replace),j=s("".indexOf),R=s("".slice),D=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,S=/a/g,P=/a/g,V=(i=new I(S)!==S,f.MISSED_STICKY),Y=f.UNSUPPORTED_Y;w=r&&(!i||V||k||F||h((function(){return P[C]=!1,I(S)!==S||I(P)===P||"/a/i"!==String(I(S,"i"))})));if(n("RegExp",w)){for(var A=function(e,t){var i,r,a=l(T,this),s=m(e),n=void 0===t,d=[],f=e;if(!a&&s&&n&&e.constructor===A)return e;if((s||l(T,e))&&(e=e.source,n)&&(t=u(f)),e=void 0===e?"":v(e),t=void 0===t?"":v(t),f=e,s=t=k&&"dotAll"in S&&(i=!!t&&-1<j(t,"s"))?O(t,/s/g,""):t,V&&"sticky"in S&&(r=!!t&&-1<j(t,"y"))&&Y&&(t=O(t,/y/g,"")),F&&(e=(n=(e=>{for(var t,i=e.length,r=0,a="",s=[],n=p(null),o=!1,c=!1,d=0,l="";r<=i;r++){if("\\"===(t=$(e,r)))t+=$(e,++r);else if("]"===t)o=!1;else if(!o)switch(!0){case"["===t:o=!0;break;case"("===t:if(a+=t,"?:"===R(e,r+1,r+3))continue;N(D,R(e,r+1))&&(r+=2,c=!0),d++;continue;case">"===t&&c:if(""===l||g(n,l))throw new E("Invalid capture group name");n[l]=!0,c=!(s[s.length]=[l,d]),l="";continue}c?l+=t:a+=t}return[a,s]})(e))[0],d=n[1]),n=o(I(e,t),a?this:T,A),(i||r||d.length)&&(t=b(n),i&&(t.dotAll=!0,t.raw=A((e=>{for(var t,i=e.length,r=0,a="",s=!1;r<=i;r++)"\\"===(t=$(e,r))?a+=t+$(e,++r):s||"."!==t?("["===t?s=!0:"]"===t&&(s=!1),a+=t):a+="[\\s\\S]";return a})(e),s)),r&&(t.sticky=!0),d.length)&&(t.groups=d),e!==f)try{c(n,"source",""===f?"(?:)":f)}catch(e){}return n},L=d(I),M=0;L.length>M;)x(A,I,L[M++]);(T.constructor=A).prototype=T,_(a,"RegExp",A,{constructor:!0})}y("RegExp")},"61f7":function(e,t,i){i.d(t,"a",(function(){return s})),i.d(t,"c",(function(){return c})),i.d(t,"b",(function(){return p}));var r=i("ade3"),a=i("5530");function s(e,t){/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));var i,r,a={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds()};for(i in a)new RegExp("(".concat(i,")")).test(t)&&(r=a[i]+"",t=t.replace(RegExp.$1,1===RegExp.$1.length?r:("00"+r).substr(r.length)));return t}i("99af"),i("13d5"),i("e9f5"),i("9485"),i("b64b"),i("d3b7"),i("4d63"),i("c607"),i("ac1f"),i("2c3e"),i("00b4"),i("25f0"),i("5319"),i("498a");var n={min:"%s最小长度为:min",max:"%s最大长度为:max",length:"%s长度必须为:length",range:"%s长度为:range",pattern:"$s格式错误"};function o(e,t){e.message=function(e){return t.replace("%s",e||"")}}function c(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)({required:!0,message:e,type:"string"},t)}function p(e){return d.pattern(/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/,e)}o(c,"请输入%s"),o(p,"%s格式不正确");var d=Object.keys(n).reduce((function(e,t){return e[t]=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",s=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n="range"===t?{min:e[0],max:e[1]}:Object(r.a)({},t,e);return Object(a.a)(Object(a.a)({message:i.replace(":".concat(t),"range"===t?"".concat(e[0],"-").concat(e[1]):e),type:"string"},n),s)},o(e[t],n[t]),e}),{})},afa3:function(e,t,i){e.exports=i.p+"system_static/img/line.05bf1c84.jpg"},b203:function(e,t,i){},bec5:function(e,t,i){i("b203")},c607:function(e,t,i){var r=i("83ab"),a=i("fce3"),s=i("c6b6"),n=i("edd0"),o=i("69f3").get,c=RegExp.prototype,p=TypeError;r&&a&&n(c,"dotAll",{configurable:!0,get:function(){if(this!==c){if("RegExp"===s(this))return!!o(this).dotAll;throw new p("Incompatible receiver, RegExp required")}}})},c7b8:function(e,t,i){i.r(t);var r=[function(){var e=this._self._c;return e("div",{staticClass:"line"},[e("img",{attrs:{src:i("afa3")}})])}],a=i("c14f"),s=i("1da1"),n=(i("d81d"),i("14d9"),i("e9f5"),i("ab43"),i("d3b7"),i("f8b7"),i("42e3")),o=i("61f7"),c=i("69ae"),p=i("161e"),d=(p={name:"GoodsDeliver",components:{vuePickers:i.n(p).a},props:{},data:function(){return{pickerVisible:!1,types:[{type:1,title:"发货"},{type:2,title:"送货"},{type:3,title:"无需发货"}],expressType:[{title:"手动填写",key:1},{title:"电子面单打印",key:2}],active:0,activeExpTpe:0,orderId:"",delivery:null,pickData:[],type:"1",result:{},expFrom:{type:1,delivery_name:"",delivery_id:"",delivery_code:"",express_record_type:1,express_temp_id:"",to_name:"",to_tel:"",to_addr:"",sh_delivery_name:"",sh_delivery_id:"",sh_delivery_uid:"",fictitious_content:""},expTemp:[],pickerVisibleName:!1,pickerVisibleExpTemp:!1,expTempData:[],tempName:"",tempImg:"",deliveryList:[]}},watch:{"$route.params.orderId":function(e){null!=e&&(this.orderId=e,this.getIndex())}},created:function(){},mounted:function(){this.orderId=this.$route.params.orderId,this.getIndex(),this.getLogistics()},methods:{showName:function(){this.pickerVisibleName=!0},getDelivery:function(){var e=this;Object(n.r)().then((function(t){var i=[];t.data.map((function(e){i.push({label:e.nickname,value:e.uid,phone:e.phone})})),e.deliveryList=[i],e.expFrom.sh_delivery_name=i[0].label,e.expFrom.sh_delivery_id=i[0].phone,e.expFrom.sh_delivery_uid=i[0].value,2===e.expFrom.express_record_type&&e.getTemp()}))},confirmName:function(e){this.expFrom.sh_delivery_name=e[0].label,this.expFrom.sh_delivery_id=e[0].phone,this.expFrom.sh_delivery_uid=e[0].value},orderDeliveryInfo:function(){var e=this;Object(n.m)().then((function(t){e.expFrom.to_name=t.data.to_name,e.expFrom.to_tel=t.data.to_tel,e.expFrom.to_addr=t.data.to_add}))},cancel:function(){},changeExpTpe:function(e,t){this.expFrom.express_record_type=e.key,this.activeExpTpe=t,2===e.key?(this.orderDeliveryInfo(),this.getTemp()):this.expTemp=[]},getTemp:function(){var e=this;Object(n.y)({com:this.expFrom.delivery_code}).then((function(t){e.expTemp=t.data.data;var i=[];e.expTemp.length&&(e.expTemp.map((function(e){i.push({label:e.title,value:e.temp_id,id:e.id,pic:e.pic,code:e.code})})),e.expTempData=[i],e.expFrom.express_temp_id=i[0].value,e.tempName=i[0].label,e.tempImg=i[0].pic)}))},confirmExpTemp:function(e){this.expFrom.express_temp_id=e[0].value,this.tempName=e[0].label,this.tempImg=e[0].pic},confirm:function(e){this.expFrom.delivery_name=e[0].label,this.expFrom.delivery_code=e[0].value,2===this.expFrom.express_record_type&&this.getTemp()},show:function(){this.pickerVisible=!0},showExpTemp:function(){this.pickerVisibleExpTemp=!0},changeType:function(e,t){this.active=t,this.expFrom.type=e.type,1===t&&this.getDelivery()},getIndex:function(){var e=this;Object(n.u)(this.$route.params.id).then((function(t){e.delivery=t.data})).catch((function(t){e.$dialog.error(t.msg)}))},getLogistics:function(){var e=this;Object(n.t)().then((()=>{var t=Object(s.a)(Object(a.a)().m((function t(i){var r;return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:r=[],i.data.map((function(e){r.push({label:e.value,value:e.code,id:e.id})})),e.pickData=[r],e.expFrom.delivery_name=r[0].label,e.expFrom.delivery_code=r[0].value,2===e.expFrom.express_record_type&&e.getTemp();case 1:return t.a(2)}}),t)})));return function(e){return t.apply(this,arguments)}})())},saveInfo:function(){var e=this;return Object(s.a)(Object(a.a)().m((function t(){var i,r,s;return Object(a.a)().w((function(t){for(;;)switch(t.n){case 0:s=(i=e).type,r={},s=s,t.n="1"===s?1:"2"===s?5:"3"===s?9:10;break;case 1:if(1!==e.expFrom.type||i.expFrom.delivery_name){t.n=2;break}return t.a(2,i.$dialog.error("请输入快递公司"));case 2:if(1!==e.expFrom.type||1!==e.expFrom.express_record_type||i.expFrom.delivery_id){t.n=3;break}return t.a(2,i.$dialog.error("请输入快递单号"));case 3:if(1!==e.expFrom.type||i.expFrom.express_temp_id||2!==e.expFrom.express_record_type){t.n=4;break}return t.a(2,i.$dialog.error("请选择电子面单"));case 4:return i.setInfo(i.expFrom),t.a(3,10);case 5:return t.p=5,t.n=6,e.$validator({expressId:[Object(o.c)(o.c.message("发货人姓名"))],expressCode:[Object(o.c)(o.c.message("发货人电话"))]}).validate({expressId:expressId,expressCode:expressCode});case 6:t.n=8;break;case 7:return t.p=7,s=t.v,t.a(2,Object(c.b)(s));case 8:return r.expressId=expressId,r.expressCode=expressCode,i.setInfo(r),t.a(3,10);case 9:return i.setInfo(r),t.a(3,10);case 10:return t.a(2)}}),t,null,[[5,7]])})))()},setInfo:function(e){var t=this;Object(n.q)(t.$route.params.id,e).then((function(e){t.$dialog.success("发送货成功"),t.$router.go(-1)}),(function(e){t.$dialog.error(e.msg)}))}}},i("bec5"),i("2877"));d=Object(d.a)(p,(function(){var e=this,t=e._self._c;return e.delivery?t("div",{staticClass:"deliver-goods"},[t("header",[t("div",{staticClass:"order-num acea-row row-between-wrapper"},[t("div",{staticClass:"num line1"},[e._v("订单号："+e._s(e.orderId))]),t("div",{staticClass:"name line1"},[t("span",{staticClass:"iconfontYI icon-yonghu2"}),e._v(e._s(e.delivery.userInfo?e.delivery.userInfo.nickname:"")+"\n      ")])]),t("div",{staticClass:"address"},[t("div",{staticClass:"name"},[e._v("\n        "+e._s(e.delivery.orderInfo.real_name)),t("span",{staticClass:"phone"},[e._v(e._s(e.delivery.orderInfo.phone))])]),t("div",[e._v(e._s(e.delivery.orderInfo.user_address))])]),e._m(0)]),t("div",{staticClass:"wrapper"},[t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("发货方式")]),t("div",{staticClass:"mode acea-row row-middle row-right"},e._l(e.types,(function(i,r){return t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],key:r,staticClass:"goods",class:e.active===r?"on":"",on:{click:function(t){return e.changeType(i,r)}}},[e._v("\n          "+e._s(i.title)),t("span",{staticClass:"iconfontYI icon-xuanzhong2"})])})),0)]),0===e.active?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("发货类型")]),t("div",{staticClass:"mode acea-row row-middle row-right"},e._l(e.expressType,(function(i,r){return t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],key:r,staticClass:"goods",class:e.activeExpTpe===r?"on":"",on:{click:function(t){return e.changeExpTpe(i,r)}}},[e._v("\n          "+e._s(i.title)),t("span",{staticClass:"iconfontYI icon-xuanzhong2"})])})),0)]):e._e(),0===e.active?t("div",{staticClass:"list"},[t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("快递公司")]),t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"checkName",domProps:{textContent:e._s(e.expFrom.delivery_name)},on:{click:e.show}}),t("vue-pickers",{attrs:{data:e.pickData,showToolbar:!0,maskClick:!0,defaultIndex:0,visible:e.pickerVisible},on:{cancel:e.cancel,confirm:e.confirm,"update:visible":function(t){e.pickerVisible=t}}})],1),1===e.expFrom.express_record_type?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("快递单号")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.expFrom.delivery_id,expression:"expFrom.delivery_id"}],staticClass:"mode input-input",attrs:{type:"text",placeholder:"填写快递单号"},domProps:{value:e.expFrom.delivery_id},on:{input:function(t){t.target.composing||e.$set(e.expFrom,"delivery_id",t.target.value)}}})]):e._e(),1===e.expFrom.express_record_type?t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",{staticClass:"tip"},[e._v("顺丰请输入单号：收件人或寄件人手机号后四位,")]),t("div",{staticClass:"tip"},[e._v("例如：SF000000000000:3941")])]):e._e()]):e._e(),e.expTemp.length&&0===e.active?t("div",{staticClass:"list"},[t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("电子面单")]),t("div",{staticClass:"acea-row"},[t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"checkName",domProps:{textContent:e._s(e.expFrom.delivery_name)},on:{click:e.showExpTemp}}),t("vue-pickers",{attrs:{data:e.expTempData,showToolbar:!0,maskClick:!0,defaultIndex:0,visible:e.pickerVisibleExpTemp},on:{confirm:e.confirmExpTemp,"update:visible":function(t){e.pickerVisibleExpTemp=t}}}),t("div",{staticClass:"look"},[t("span",[e._v("预览")]),t("viewer",{ref:"viewer",staticClass:"viewer"},[t("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.tempImg,expression:"tempImg"}],staticClass:"image"})])],1)],1)])]):e._e(),2===e.expFrom.express_record_type&&0===e.active?t("div",{staticClass:"list"},[t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("寄件人姓名")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.expFrom.to_name,expression:"expFrom.to_name"}],staticClass:"mode input-input",attrs:{type:"text",placeholder:"填写寄件人姓名"},domProps:{value:e.expFrom.to_name},on:{input:function(t){t.target.composing||e.$set(e.expFrom,"to_name",t.target.value)}}})]),t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("寄件人电话")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.expFrom.to_tel,expression:"expFrom.to_tel"}],staticClass:"mode input-input",attrs:{type:"text",placeholder:"填写寄件人电话"},domProps:{value:e.expFrom.to_tel},on:{input:function(t){t.target.composing||e.$set(e.expFrom,"to_tel",t.target.value)}}})]),t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("寄件人地址")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.expFrom.to_addr,expression:"expFrom.to_addr"}],staticClass:"mode input-input",attrs:{type:"text",placeholder:"填写寄件人地址"},domProps:{value:e.expFrom.to_addr},on:{input:function(t){t.target.composing||e.$set(e.expFrom,"to_addr",t.target.value)}}})])]):e._e(),1===e.active?t("div",{staticClass:"list"},[t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("送货人")]),t("span",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"checkName",domProps:{textContent:e._s(e.expFrom.sh_delivery_name)},on:{click:e.showName}}),t("vue-pickers",{attrs:{data:e.deliveryList,showToolbar:!0,maskClick:!0,defaultIndex:0,visible:e.pickerVisibleName},on:{confirm:e.confirmName,"update:visible":function(t){e.pickerVisibleName=t}}})],1),t("div",{staticClass:"item acea-row row-between-wrapper"},[t("div",[e._v("送货人电话")]),t("input",{directives:[{name:"model",rawName:"v-model",value:e.expFrom.sh_delivery_id,expression:"expFrom.sh_delivery_id"}],staticClass:"mode input-input",attrs:{type:"text",placeholder:"填写送货人电话"},domProps:{value:e.expFrom.sh_delivery_id},on:{input:function(t){t.target.composing||e.$set(e.expFrom,"sh_delivery_id",t.target.value)}}})])]):e._e(),2===e.active?t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.expFrom.fictitious_content,expression:"expFrom.fictitious_content"}],staticClass:"textarea",attrs:{placeholder:"备注",maxlength:500},domProps:{value:e.expFrom.fictitious_content},on:{input:function(t){t.target.composing||e.$set(e.expFrom,"fictitious_content",t.target.value)}}}):e._e()]),t("div",{staticStyle:{height:"1.2rem"}}),t("div",{directives:[{name:"db-click",rawName:"v-db-click"}],staticClass:"confirm",on:{click:e.saveInfo}},[e._v("确认提交")])]):e._e()}),r,!1,null,"a10684e6",null);t.default=d.exports}}]);